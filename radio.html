
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Radio</title>
<style>

*{
box-sizing: border-box;
}

body{
background: #57BC79;
position: relative;
width:100%; height:100%;
padding: 10px 0 10px 10px;
margin: 0;
overflow-x: hidden;
}

div.station{
display: block;
margin-bottom: 10px;
}

button{
height: 25px;
width: 40px;								
}

div.station>span{
display: inline-block;
margin-left: 50px;
text-align: center;
}




select{width:200px; height: 25px;}
audio{width: 150px; height: 30px;}

.controls{
padding: 2px;
border: 1px solid;
width: 100px;
height: 10px;
font-weight: bold;
font-variant: small-caps;
background: white;
cursor: pointer;
}

p{
width: 250px;
}

</style>
</head>
<body>
<audio src="http://sc-bb.1.fm:8017" autoplay></audio>

<div class="bollywood station">
<span>Bollywood</span><br>
<button class="prev">Prev</button>
<select class="bollywood" required>
<option value="" disabled selected hidden>Choose a station...</option>
<optgroup label= "----Bollywood stations----" class="bollywood">
</optgroup>
</select>
<button class="next">Next</button>
</div>

<div class="sarnamie station">
<span>Sarnamie</span><br>
<button class="prev">Prev</button>
<select class="sarnamie" required>
<option value="" disabled selected hidden>Choose a station...</option>
<optgroup label= "----Sarnamie stations----" class="sarnamie">
</optgroup>
</select>
<button class="next">Next</button>
</div>

<div class="other station">
<span>Suriname (other)</span><br>
<button class="prev">Prev</button>
<select class="other" required>
<option value="" disabled selected hidden>Choose a station...</option>
<optgroup label= "----General----" class="general"></optgroup>
<optgroup label= "----Sranang----" class="sranang"></optgroup>
<optgroup label= "----Javanese----" class="javanese"></optgroup>
<optgroup label= "----Christian----" class="christian"></optgroup>
<optgroup label= "----Other----" class="misc"></optgroup>
</select>
<button class="next">Next</button>
</div>

<span>Listening to: &nbsp;
<b><span class="cs">Bombay Beats</span></b>&nbsp;
</span>

<span class="controls">loading...</span><br>
<span>Listening for: <span class="time">0</span>s</span>
<br>
<p>
<b><u>How to use:</u></b><br>
To play a station select it from the list, and it will automatically play if its stream is accessible.
<b>Bombay Beats</b> is automatically selected!<br>
Use next and prev buttons to navigate through station list!<br>
Tested on BlackBerry Curve 9320, running OS 7.xx [Native browser]
<p>

<script>
var bollywood= {
"http://sc-bb.1.fm:8017":"Bombay Beats",
"http://109.169.46.197:8011/stream":"Diverse FM",
//"http://music2.vvradio.co.in:2802/stream2":"VV Radio",
//"https://astro4.rastream.com/india?type=mp3":"India Beat",
"https://c5.radioboss.fm:18125/stream":"Manpasand",
"http://radio.punjabrocks.com:9998/taal":"Taal",
//"https://eu47-sonic.instainternet.com/8068/stream":"Himal Filmy",
"http://indifun.net:7000/;stream.nsv":"Indifun",
"http://peridot.streamguys.com:7150/Mirchi":"Mirchi FM",
"http://79.120.39.202:8002/indiancinema":"Caprice",
//"https://prclive1.listenon.in/":"Radio City [Talk]",
//"https://funasia.streamguys1.com/live9":"Big Melodies",
//"https://cp12.serverse.com/proxy/hummfm?mp=/live":"Humm FM",
"https://stream.zeno.fm/2vhb00mhky8uv":"Singham",
//"https://stream.zeno.fm/d22wrdbst5quv.mp3":"Radio Wow",
"http://hoth.alonhosting.com:1080/;stream.mp3":"BollyHits",
//"https://s5.alhastream.com/radio/8260/radio":"Nitnut",
"https://stream.zeno.fm/a69txeenvzzuv":"SRK Online",
//"https://stream.bongonet.net/proxy/rhi?mp=/stream":"RHI - Covers",
"https://stream.zeno.fm/eyxg23ky4x8uv" : "Marudhara",
"https://stream.zeno.fm/8wk1s0pt008uv" : "NP 24",
"https://drive.uber.radio/uber/bollywooduditnarayan/icecast.audio" : "Udit Narayan",
"https://drive.uber.radio/uber/bollywoodalkayagnik/icecast.audio" : "Alka Yagnik"
};

//-------

var sarnamie= {
"http://168.195.218.193:8000/radio1-1" : "Rapar",
"http://tbn.kloud.xyz:8050/radio.mp3" : "Trishul",
"http://108.59.9.147:8136/;" : "Rasonic",
"http://sgm.kloud.xyz:8030/radio.mp3" : "Sangeetmala ",
//"http://nickerie.webhop.net:8000/listen.mp3" : "Ishara",
//"http://eksitara.kloud.xyz:8120/radio.mp3" : "Ek Sitara",
"http://79.143.187.96:8053/live" : "Suvidha",
"http://shruti.kloud.xyz:8000/radio.mp3" : "Shruti",
"https://amorfm_192.streampartner.nl/stream" : "Amor",
//"https://onlineradio.websoftitnepal.com/8030/stream/1/.mp4a.40.5" : "Vahon",
"http://stream2.ujala.nl/stream/2/listen.mp3" : "Ujala",
"http://stream.sunrisefm.nl:9600/stream" : "Sunrise",
"http://stream2.iqhosted.nl:8000/stream/1/" : "Sangam",
//"https://rs.suricloud.com/radio/8130/radio.mp3" : "Sargam",
"https://hidradio.live-streams.nl/live?type=.mp3/;stream.mp3" : "HiD Radio"
};


var general= {
//"http://bombelman.com:5472/;?d=" : "ABC",
//"http://s6.voscast.com:8150/;stream.mp3" : "Apintie",
"http://streams.radio.co/s28bc986cd/listen" : "Radio 10",
"http://168.195.218.193:8000/radio1-3" : "RP Hot One",
"http://168.195.218.193:8000/radio2-2" : "Beat FM",
"http://sccn104.serverroom.us:5600/;stream.mp3" : "SCCN Smooth",
"http://pipel.kloud.xyz:8010/radio.mp3" : "Sky Pipel",
"http://radio9.kloud.xyz:8060/radio.mp3" : "Radio 9",
"https://surilite1.radioca.st/stream" : "Suri Lite",
//"http://162.244.80.245:8006/;" : "FM Gold",
//"https://canopus.dribbcast.com/stream/8052/stream/1/" : "Color Radio",
//"https://solid41.streamupsolutions.com/proxy/yjdqldwt?mp=/stream" : "Da Beat",
//"http://streaming.shoutcast.com/we-radio?" : "WE Radio",
"https://caster05.streampakket.com/proxy/9338/stream/1/" : "Tamara",
//"http://bombelman.com:3062/;" : "NIO",
//"http://127.0.0.1:26671/listen.pls" : "Radio One",
"http://192.111.140.6:8117/stream" : "Fawaka",
//"http://listen.shoutcast.com/k1009" : "Kankantri",
//"https://sonic.magicdragon.nl/8024/stream" : "Pokoe FM",
//"https://icecast.omroep.nl/3fm-bb-mp3" : "Radio FM 103",
"http://cc3b.beheerstream.com:8192/;stream.mp3" : "Cariba FM"
};


var javanese= {
"http://162.244.80.245:8012/;" : "Garuda",
//"http://streaming.radionomy.com/LaguJawa" : "Lagu Jawa",
"http://94.23.148.11:8214/stream/1/" : "Sirian Jawa",
"https://s5.radio.co/s1735f3c1d/listen":"Surja Vibes"
};

var sranang= {
"http://168.195.218.193:8000/radio2-0" : "SRS",
//"http://centova.pure-isp.eu:8012/stream" : "Konmakandra",
//"https://canopus.dribbcast.com/stream/8052" : "Anjisa",
"http://162.244.80.245:8020/stream/1/" : "Koyeba",
"http://sc.sr.net:8000/radio2-1" : "Boskopu",
//"http://91.196.171.99/radiobrasa" : "Brasa",
//"https://stream.zenolive.com/6te6g6ubed0uv.aac​​​​​":"Radio Anda",
//"http://178.63.94.130:8080/9181316.ogg" : "Positive",
"http://stanvasteradio.gkstreamen.nl:8120/;stream.mp3" : "Stanvaste",
//"http://46.4.5.234:8080/9173707.ogg" : "Asosye"
};

var christian= {
"http://162.244.80.245:8014/;" : "Shalom",
//"http://bombelman.com:3052/random" : "Immanu&euml;l",
//"http://server.jvhost.net:8120/stream" : "Kabar Katresnan",
//"http://198.7.59.204/stream.mp3?ipport=198.7.59.204_31366" : "Radio 7 Gospel",
"http://exoticaradio.shoutcaststream.com:8380/stream" : "Radio mArt"
};

var misc= {
"https://olon.az.icecast.ebsd.ericsson.net/salto_razo" : "Razo",
//"http://icecast.streamone.net/YoRFHeMSYJ42" : "Caribbean FM",
//"http://bombelman.com:8036/;stream.nsv" : "LPM Portuguese"
};


function mergeObjects(){
var res = {};
for(var i= 0; i<arguments.length; i++){
for (var x in arguments[i]){
res[x] = arguments[i][x];
}
}
return res;
}

var other= mergeObjects(general,sranang,javanese,christian,misc);

//------------------------------------------
var audio= document.querySelector("audio");
function updateSrc(src){
audio.pause(); audio.src= "";
audio.src= src;
audio.load(); audio.play(); 
}



//-----create---list------
function createMenu(obj,optgr,sel){
var urls= Object.keys(obj);
var a= document.querySelector(optgr);
for(var i=0; i<urls.length; i++){
var b= document.createElement("option");
b.innerHTML= obj[urls[i]];
a.appendChild(b);
}
}


createMenu(sarnamie,"optgroup.sarnamie","select.sarnamie");
createMenu(general,"optgroup.general","select.other");
createMenu(sranang,"optgroup.sranang","select.other");
createMenu(christian,"optgroup.christian","select.other");
createMenu(javanese,"optgroup.javanese","select.other");
createMenu(misc,"optgroup.misc","select.other");
createMenu(bollywood,"optgroup.bollywood","select.bollywood");


//add---source----------------
var currentStation= document.querySelector("span.cs");
var controls= document.querySelector(".controls");










function addSource(obj,sel){
var urls= Object.keys(obj);
var menu= document.querySelector(sel);
var options= menu.querySelectorAll("option:not([disabled])");




menu.addEventListener("change", function(){
for(var x=0; x<options.length; x++){  
if(options[x].selected){
updateSrc(urls[x]);
//alert(urls[x]);
currentStation.innerHTML= options[x].innerHTML;// +" : "+ urls[x];
}
}

});





menu.addEventListener("focus", function(){
this.selectedIndex= 0;
});
}

//ADD EVENT LISTENERS TO ALL STATIONS
addSource(sarnamie,"select.sarnamie");
addSource(other,"select.other");
addSource(bollywood,"select.bollywood");


//♥️

var next= document.querySelectorAll(".next");
var prev= document.querySelectorAll(".prev");

function buttonClick(x,obj,sel,dir){
x.addEventListener("click", function(){
var urls= Object.keys(obj);
var menu= document.querySelector(sel);

if(dir=="next"){
if(menu.selectedIndex==urls.length){
menu.selectedIndex= 1;
}
else{
menu.selectedIndex++;
}
fireChange(menu);
}
else{
if(menu.selectedIndex<=1){
menu.selectedIndex= urls.length;
}
else{
menu.selectedIndex--;
}
fireChange(menu);
}

								
});}


buttonClick(next[0],bollywood,"select.bollywood","next");
buttonClick(next[1],sarnamie,"select.sarnamie","next");
buttonClick(next[2],other,"select.other","next");

buttonClick(prev[0],bollywood,"select.bollywood","prev");
buttonClick(prev[1],sarnamie,"select.sarnamie","prev");
buttonClick(prev[2],other,"select.other","prev");

//♥️

//PLAY BOMBAY BEATS ON LOAD
window.addEventListener("load", function(){
audio.play();
});

//WHEN PLAYING
audio.addEventListener("play", function(){
controls.innerHTML= "loading...";
//(audio.currentTime > 0) ? "stop" : "loading...";
});

//WHEN PAUSED
audio.addEventListener("pause", function(){
controls.innerHTML= "play";
controls.style.color= "green";
});

//ON ERROR
audio.addEventListener("error", function(){
controls.innerHTML= "error";
controls.style.color= "red";
});


//STOP AND START
controls.addEventListener("click", function (){
(audio.paused) ? audio.play() : audio.pause();
});


var timer= document.querySelector(".time");
//DISPLAY DURATION
audio.addEventListener("timeupdate",function(){
var secs= this.currentTime; 
controls.innerHTML= (secs > 1) ? "stop" : "loading...";

var time = new Date();
time.setHours(parseInt(secs/3600) % 24);
time.setMinutes(parseInt(secs/60) % 60);
time.setSeconds(parseInt(secs%60));
time= time.toTimeString().split(" ")[0];
timer.innerHTML= time;
});



function fireChange(element){
if ("createEvent" in document) {
var evt = document.createEvent("HTMLEvents");
evt.initEvent("change", false, true);
element.dispatchEvent(evt);
}
else{
element.fireEvent("onchange");								
}
}

</script>			
</body>
</html>
